<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title><%= content_for?(:title) ? yield(:title) : "foundation-rails" %></title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <%= stylesheet_link_tag    "application" %>
    <%= javascript_include_tag "vendor/modernizr" %>
    <%= javascript_include_tag "application" %>
    <%= csrf_meta_tags %>
  </head>

  <body>

      <nav class="top-bar" data-topbar role="navigation">
        <ul class="title-area">
          <li class="name">
            <h1><a href="#">Trakr</a></h1>
          </li>
          <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
        </ul>

        <section class="top-bar-section">
          <ul class="right">
            <li><a href="#">Right Button Active</a></li>
            <% if current_user %>
              <li><a href="#">New Project</a></li>
              <li class="active has-dropdown">
                <a href="#"><%= current_user.email %></a>
                <ul class="dropdown">
                  <li><a href="/logout">Logout</a></li>
                </ul>
              </li>
            <% else %>
              <li class="active"><a href="#" data-reveal-id="loginModal">Login</a></li>
            <% end %>
          </ul>
        </section>
      </nav>
      
      <div class="container">
        <%= yield %>
      </div>

      <div id="loginModal" class="reveal-modal tiny" data-reveal>
        <div class="modal-header">
          <h4>Login</h4>
        </div>
        <div class="modal-body">
          <%= form_tag('/login', method: 'post') do %>
            <label>Email
              <%= email_field_tag :email, '', placeholder: 'Email' %>
            </label>
            <label>Password
              <%= password_field_tag :password, '', placeholder: 'Password' %>
            </label>
            <p>Don't have an account? <a href="#" data-reveal-id="signupModal">Sign up here</a>.</p>
            <%= submit_tag 'Go', class: 'button expand small' %>
          <% end %>
        </div>
      </div>

      <div id="signupModal" class="reveal-modal tiny" data-reveal>
        <div class="modal-header">
          <h4>Sign up</h4>
        </div>
        <div class="modal-body">
          <%= form_for User.new do |f| %>
            <label>Email
              <%= f.email_field :email, placeholder: 'Email' %>
            </label>
            <label>Password
              <%= f.password_field :password, placeholder: 'Password' %>
            </label>
            <label>Password
              <%= f.password_field :password_confirmation, placeholder: 'Password Confirmation' %>
            </label>
            <p>Are you an existing user? <a href="#" data-reveal-id="loginModal">Login here</a>.</p>
            <%= f.submit 'Go', class: 'button expand small' %>
          <% end %>
        </div>
      </div>

  </body>
</html>